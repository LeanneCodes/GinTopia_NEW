{% extends "reservations/base.html" %}

{% block content %}

  <section>
    <br>
    <h3>GinTopia Class Bookings</h3>
    <br>
    <div class="table-responsive">
      <table class="table table-hover">
        <tr class="text-center">
          <th>Email Address</th>
          <th>Phone Number</th>
          <th>Class Date</th>
          <th>Class Time</th>
          <th>No. of People</th>
          <th>Mixologist</th>
          <th>Edit Booking</th>
          <th>Delete Booking</th>
        </tr>
        {% for item in items %}
        <tr class="text-center">
          <td>{{ item.user_email }}</td>
          <td>{{ item.user_phone }}</td>
          <td>{{ item.date }}</td>
          <td>{{ item.time }}</td>
          <td>{{ item.for_how_many }}</td>
          <td>{{ item.mixologist }}</td>
          <td>
            <a href="/update/{{ item.id }}" class="update-btn"><i class="fa fa-edit"></i> Edit</a>
          </td>
          <td>
            <!-- Button trigger modal -->
            <button type="button" class="delete-btn" data-bs-toggle="modal" data-bs-target="#exampleModal-{{item.id}}"><i class="fa fa-trash"></i>
              Delete
            </button>
            <!-- Modal -->
            <div class="modal fade" id="exampleModal-{{item.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title exampleModalLabel">GinTopia Class Booking</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    Do you wish to delete this booking?
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="gt-btn-dark" data-bs-dismiss="modal">Close</button>
                    <a href="/delete/{{ item.id }}" class="gt-btn-success">Yes, Delete</a>
                  </div>
                </div>
              </div>
            </div>
          </td>
        </tr>
        {% endfor %}
        
      </table>
    </div>

    <p class="text-center"><a class="gt-btn-dark" href="{% url 'booking_form' %}">Add a booking</a></p>
  </section>

  

{% endblock %}